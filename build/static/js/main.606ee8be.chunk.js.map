{"version":3,"sources":["Auth/context.js","customHooks/formHook.js","components/todo/form.js","components/todo/list.js","customHooks/Ajax.js","components/todo/todo.js","Auth/login.js","Auth/signup.js","Styling/Navbar.js","Auth/auth.js","app.js","index.js"],"names":["dotenv","config","API","LoginContext","React","createContext","LoginProvider","props","useState","user","setUser","loggedIn","setLoggedIn","validateToken","token","jwt","decode","setLoginState","error","console","log","message","cookie","save","username","password","a","superagent","post","set","btoa","body","email","role","useEffect","load","state","login","signup","logout","setLogoutState","Provider","value","children","useForm","setState","e","target","name","preventDefault","reset","handleSubmit","items","TodoForm","handleInputChange","Card","bg","key","text","style","width","className","Header","Body","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","defaultValue","Button","variant","TodoList","list","map","item","Toast","height","display","flexDirection","onClose","handleDelete","_id","justifyContent","condition","complete","Badge","onClick","handleComplete","pill","assignee","float","difficulty","useAjax","todoAPI","setList","loginContext","useContext","_getTodoItems","fetch","method","mode","then","data","json","results","catch","due","Date","cache","headers","JSON","stringify","response","savedItem","id","filter","i","url","listItem","newList","ToDo","_addItem","_toggleComplete","_deleteTask","document","title","length","Container","fluid","Row","xs","Col","Alert","Heading","Login","setUsername","setPassword","SignUp","context","setRole","Bar","Navbar","Brand","href","Nav","Link","Auth","okToRender","capability","capabilities","includes","EditLink","DeleteLink","App","Main","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.606ee8be.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport cookie from \"react-cookies\";\nimport jwt from \"jsonwebtoken\";\nimport dotenv from \"dotenv\";\nimport superagent from \"superagent\";\ndotenv.config();\n\nconst API = 'https://auth-server-401.herokuapp.com';\n// const SECERT = process.env.JWT_SECRET;\n// this component is responsible for the login and log out and setting the cookies and the global state.\nexport const LoginContext = React.createContext();\n\nconst LoginProvider = (props) => {\n\n\tconst [user, setUser] = useState({});\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst token = cookie.load('auth');\n\t\tvalidateToken(token);\n\t}, []);\n\n\tfunction validateToken(token) {\n\t\ttry {\n\t\t\tconst user = jwt.decode(token);\n\t\t\tif (user) setLoginState(true, token, user);\n\t\t} catch (error) {\n\t\t\tsetLoginState(false, null, {});\n\t\t\tconsole.log(`Token Validation Error ${error.message}`);\n\t\t}\n\t}\n\n\tfunction setLoginState(loggedIn, token, user) {\n\t\tcookie.save('auth', token);\n\t\tsetUser({ user });\n\t\tsetLoggedIn(loggedIn);\n\t}\n\n\tfunction setLogoutState(loggedIn, user) {\n\t\tcookie.save('auth', null);\n\t\tsetUser({ user });\n\t\tsetLoggedIn(loggedIn);\n\t}\n\n\tasync function login(username, password) {\n\t\ttry {\n\t\t\tconst response = await superagent\n\t\t\t\t.post(`${API}/signin`)\n\t\t\t\t.set('authorization', `Basic ${btoa(`${username}:${password}`)}`);\n\t\t\tvalidateToken(response.body.token);\n\t\t} catch (error) {\n\t\t\tconsole.error('Signin Error', error.message);\n\t\t}\n\t}\n\n\tasync function signup(email, username, password, role) {\n\t\ttry {\n\t\t\tconst response = await superagent.post(`${API}/signup`, {\n\t\t\t\temail,\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t\trole,\n\t\t\t});\n\n\t\t\tvalidateToken(response.body.token);\n\t\t} catch (error) {\n\t\t\tconsole.error('Signup Error', error.message);\n\t\t}\n\t}\n\n\tfunction logout() {\n\t\tsetLogoutState(false, {});\n\t}\n\n\tconst state = {\n\t\tuser,\n\t\tsetUser,\n\t\tloggedIn,\n\t\tsetLoggedIn,\n\t\tlogin,\n\t\tsignup,\n\t\tlogout,\n\t\t\n\t};\n\n\treturn (\n\t\t<LoginContext.Provider value={state}>\n\t\t\t{props.children}\n\t\t</LoginContext.Provider>\n\t);\n};\n\n\n\nexport default LoginProvider;\n","import { useState } from 'react';\nconst useForm = (props) => {\n  const [state, setState] = useState({});\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    e.target.reset();\n    props.handleSubmit(state);\n    const items = {};\n    setState({ items });\n    // console.log(state);\n    // cb(state);\n  };\n  const handleChange = (e) => {\n    setState({ ...state, [e.target.name]: e.target.value });\n  };\n  return [state, handleChange, handleSubmit];\n};\n\nexport default useForm;","import React from \"react\";\nimport {Button, Card, Form} from \"react-bootstrap\";\nimport useForm from '../../customHooks/formHook'\n\nfunction TodoForm(props) {\n\n  const [item,handleInputChange,handleSubmit ] = useForm(props);\n\n  return (\n    <>\n    <Card\nbg={'light'}\nkey='6'\ntext={'light' === 'light' ? 'dark' : 'white'}\nstyle={{ width: '100%' }}\nclassName=\"mb-2\"\n>\n      <Card.Header style={{ 'text-align': 'center' }}>Add Item</Card.Header>\n      <Card.Body>\n      {/* from here  */}\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"exampleForm.ControlInput1\">\n          <Form.Label>To Do Item</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Add To Do List Item\"\n            name=\"text\"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formBasicRange\">\n          <Form.Label>Difficulty Rating</Form.Label>\n          <Form.Control\n            type=\"range\"\n            defaultValue=\"1\"\n            type=\"range\"\n            min=\"1\"\n            max=\"5\"\n            name=\"difficulty\"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"exampleForm.ControlSelect2\">\n          <Form.Label>Assigned To</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Assigned To\"\n            onChange={handleInputChange}\n            name=\"assignee\"\n          />\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          Add Item\n        </Button>{\" \"}\n      </Form>\n      {/* to here  */}\n      </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nexport default TodoForm;\n\n\n","import React from \"react\";\nimport { Badge, Toast } from \"react-bootstrap\";\nimport { If, Then, Else } from \"react-if\";\n\nfunction TodoList(props) {\n  return (\n    <>\n      {props.list.map((item) => (\n        <Toast\n          // bg={\"light\"}\n          // key={item._id}\n          // className=\"rounded mr-2\"\n          \n          style={{ width: \"100%\", height:'auto',display: \"flex\",  flexDirection: 'column'}}\n          onClose={() => props.handleDelete(item._id)}\n        >\n            <Toast.Header style={{ justifyContent: 'space-between'}}>\n              <If condition={item.complete === false}>\n                <Then>\n                <Badge onClick={() => props.handleComplete(item._id)} pill variant=\"success\">\n                <strong className=\"mr-auto\"> pending</strong>\n              </Badge>{\"     \"}\n                </Then>\n                <Else>\n                <Badge onClick={() => props.handleComplete(item._id)}  pill variant=\"danger\">\n                <strong className=\"mr-auto\"> complete </strong>\n              </Badge>{\"      \"}\n                </Else>\n              </If>\n             {item.assignee}\n            </Toast.Header>\n            <Toast.Body>\n              {item.text}\n              <br />\n              <small className=\"mr-auto\"  style={{ float: \"right\", }}> Difficulty: {item.difficulty}</small>\n             \n            </Toast.Body>\n          \n        </Toast>\n      ))}\n    </>\n  );\n}\n\nexport default TodoList;\n","import { useState,useContext  } from 'react';\nimport { LoginContext } from '../Auth/context';\n\nconst useAjax = (props) => {\n    const todoAPI = \"https://api-js401.herokuapp.com/api/v1/todo\";\n  const [list, setList] = useState([]);\n  const loginContext = useContext(LoginContext);\n\n\n  const _addItem = (item) => {\n    if(loginContext.user.user.type === 'admin' || loginContext.user.user.type === 'editor'){\n      item.due = new Date();\n      fetch(todoAPI, {\n        method: \"post\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(item),\n      })\n        .then((response) => response.json())\n        .then((savedItem) => {\n          setList([...list, savedItem]);\n        })\n        .catch(console.error);\n    } \n  };\n  \n  const _toggleComplete = (id) => {\n    if(loginContext.user.user.type === 'admin' || loginContext.user.user.type === 'editor'){\n      let item = list.filter((i) => i._id === id)[0] || {};\n\n      if (item._id) {\n        item.complete = !item.complete;\n  \n        let url = `${todoAPI}/${id}`;\n  \n        fetch(url, {\n          method: \"put\",\n          mode: \"cors\",\n          cache: \"no-cache\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(item),\n        })\n          .then((response) => response.json())\n          .then((savedItem) => {\n            setList(\n              list.map((listItem) =>\n                listItem._id === item._id ? savedItem : listItem\n              )\n            );\n          })\n          .catch(console.error);\n      }\n    }\n\n  };\n\n  const _getTodoItems = () => {\n    fetch(todoAPI, {\n      method: \"get\",\n      mode: \"cors\",\n    })\n      .then((data) => data.json())\n      .then((data) => setList(data.results))\n      .catch(console.error);\n  };\n\n  const _deleteTask =  (id)=>{\n    if(loginContext.user.user.type === 'admin'){\n      let item = list.filter((i) => i._id === id)[0] || {};\n      if (item._id) {\n        let url = `${todoAPI}/${id}`;\n        fetch(url, {\n          method: 'delete',\n          mode: 'cors',\n        }).then((data) => data.json())\n        .then((data) =>{\n          console.log(data);\n          const newList = list.filter(item => item !== data)\n  \n          setList(newList)\n          _getTodoItems()\n        })\n        .catch(console.error);\n      }\n    } \n}\n\n  return [list, _addItem, _toggleComplete, _getTodoItems, _deleteTask ];\n};\n\nexport default useAjax;","import React from \"react\";\nimport TodoForm from \"./form.js\";\nimport TodoList from \"./list.js\";\nimport { useEffect } from \"react\";\nimport { Alert, Container, Row, Col } from \"react-bootstrap\";\nimport useAjax from '../../customHooks/Ajax'\n\nimport \"./todo.scss\";\n\nfunction ToDo(props) {\n  const [list, _addItem, _toggleComplete, _getTodoItems, _deleteTask] = useAjax(props)\n\n  useEffect(_getTodoItems, []);\n\n\n  useEffect(() => {\n    document.title =\n      \"To-do List \" +\n      list.filter((item) => !item.complete).length +\n      \" Completed/ \" +\n      list.filter((item) => item.complete).length +\n      \" Incompleted\";\n  });\n\n  return (\n    <Container fluid=\"md\">\n      <br />\n      <Row xs={7}>\n        <Col>\n          <Alert key=\"0\" variant=\"primary\">\n            <Alert.Heading style={{ \"text-align\": \"center\" }}>\n              There are {list.filter((item) => !item.complete).length} Items To\n              Complete\n            </Alert.Heading>\n          </Alert>\n        </Col>\n      </Row>\n\n      <section className=\"todo\">\n        <Row>\n          <Col xs={5}>\n            <TodoForm handleSubmit={_addItem} />\n          </Col>\n\n          <Col>\n            <TodoList list={list} handleComplete={_toggleComplete}  handleDelete={_deleteTask}/>\n          </Col>\n        </Row>\n      </section>\n    </Container>\n  );\n}\n\nexport default ToDo;\n","import React, { useContext, useState } from 'react';\nimport { If, Else, Then } from 'react-if';\nimport { LoginContext } from './context';\n\nconst Login = () => {\n\tconst loginContext = useContext(LoginContext);\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tfunction handleChangeUsername(e) {\n\t\tsetUsername(e.target.value);\n\t}\n\n\tfunction handleChangePassword(e) {\n\t\tsetPassword(e.target.value);\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tloginContext.login(username, password);\n\t}\n\n\treturn (\n\t\t<If condition={loginContext.loggedIn}>\n\t\t\t<Then>\n\t\t\t\t<button onClick={loginContext.logout}>Log Out</button>\n\t\t\t</Then>\n\t\t\t<Else>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tplaceholder=\"Enter Username\"\n\t\t\t\t\t\tonChange={handleChangeUsername}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tplaceholder=\"Enter password\"\n\t\t\t\t\t\tonChange={handleChangePassword}\n\t\t\t\t\t/>\n\t\t\t\t\t<button>Login</button>\n\t\t\t\t</form>\n\t\t\t</Else>\n\t\t</If>\n\t);\n};\n\n\nexport default Login;","import React, { useContext, useState } from \"react\";\nimport { If, Else, Then } from \"react-if\";\nimport { LoginContext } from \"./context\";\n\nconst SignUp = () => {\n  const context = useContext(LoginContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"user\");\n\n  function handleChangeUsername(e) {\n    setUsername(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n\n  function handleChangeRole(e) {\n    setRole(e.target.value);\n  }\n\n  function handleSubmitSignup(e) {\n    e.preventDefault();\n    context.signup( username, password, role);\n  }\n\n  return (\n    <form onSubmit={handleSubmitSignup}>\n\n      <input\n        type=\"text\"\n        name=\"username\"\n        placeholder=\"Enter Username\"\n        onChange={handleChangeUsername}\n      />\n      <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Enter password\"\n        onChange={handleChangePassword}\n      />\n\n      <select name=\"roles\" id=\"roles\" onChange={handleChangeRole}>\n        <option value=\"user\">User</option>\n        <option value=\"editor\">Editor</option>\n        <option value=\"admin\">Admin</option>\n      </select>\n\n      <button>SignUp</button>\n    </form>\n  );\n};\n\nexport default SignUp;\n","import { Navbar, Nav } from \"react-bootstrap\";\nimport React from \"react\";\nimport Login from \"../Auth/login\";\nimport SignUp from \"../Auth/signup\";\n\nfunction Bar() {\n  return (\n    <>\n      <Navbar bg=\"primary\" variant=\"dark\">\n        <Navbar.Brand href=\"#home\"></Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"#home\">Home</Nav.Link>\n        </Nav>\n        <SignUp />\n        <Login />\n      \n      </Navbar>\n    </>\n  );\n}\n\nexport default Bar;\n","import React,{useContext} from \"react\";\nimport { LoginContext } from './context';\nimport { If } from 'react-if';\n\n\nconst Auth = (props) => {\n\tconst loginContext = useContext(LoginContext);\n\tlet okToRender = false;\n\ttry {\n\t\tokToRender =\n\t\t\tloginContext.loggedIn && props.capability\n\t\t\t\t? loginContext.user.user.capabilities.includes(props.capability)\n\t\t\t\t: false;\n\t} catch (error) {\n\t\tconsole.log('NOT AUTHORIZED', error.message);\n\t}\n\treturn <If condition={okToRender}>{props.children}</If>;\n};\n\nexport default Auth;\n\n\n\n// const If = props => {\n//   return props.condition ? props.children : null;\n// };\n\n\n    // <Auth> <div /> </Auth>\n    /// are you logged in?\n    /// was there no capability specified?\n\n    // <Auth capability=\"foo\"> <div /> </Auth>\n    /// are you logged in?\n    /// Is there a capability that we care about?\n    /// do you have it?\n\n \n","import React,{useContext} from \"react\";\nimport ToDo from \"./components/todo/todo.js\";\nimport Navbar from \"./Styling/Navbar\";\n\nimport Auth from \"./Auth/auth\";\n\nimport { LoginContext } from \"./Auth/context\";\nimport { If, Else, Then } from 'react-if';\n\nconst EditLink = (props) => {\n  return (\n    <Auth capability=\"update\">\n      <span>Edit</span>\n    </Auth>\n  );\n};\n\nconst DeleteLink = (props) => {\n  return (\n    <Auth capability=\"delete\">\n      <span>Delete</span>\n    </Auth>\n  );\n};\n\nfunction App() {\n  const context = useContext(LoginContext);\n  // console.log('why error here',x);\n  return (\n    <>\n      <Navbar />\n      <If condition={context.loggedIn}>\n        <Then>\n          <ToDo />\n        </Then>\n        <Else>\n          <div></div>\n        </Else>\n      </If>\n      <EditLink />\n      <DeleteLink />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport LoginProvider from './Auth/context';\n\nimport App from './app.js';\n\n\n\n// class Main extends React.Component {\n//   render() {\n//     return <App />;\n//   }\n// }\nfunction Main()  {\n    return <App />\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(\n\t<LoginProvider>\n\t\t<Main />\n\t</LoginProvider>,\n\trootElement,\n);\n"],"sourceRoot":""}