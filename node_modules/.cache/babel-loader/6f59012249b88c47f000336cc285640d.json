{"ast":null,"code":"var _jsxFileName = \"/home/boshra/401labs/hooks/todo/src/components/todo/acl.js\";\nimport React from 'react';\nimport { LoginContext } from '../../context/auth';\nimport { If } from 'react-if';\n\nconst Auth = props => {\n  const loginContext = useContext(LoginContext);\n  let okToRender = false;\n\n  try {\n    okToRender = loginContext.loggedIn && props.capability ? loginContext.user.user.capabilities.includes(props.capability) : false;\n  } catch (error) {\n    console.log('NOT AUTHORIZED', error.message);\n  }\n\n  return /*#__PURE__*/React.createElement(If, {\n    condition: okToRender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default Auth; // const If = props => {\n//   return props.condition ? props.children : null;\n// };\n// <Auth> <div /> </Auth>\n/// are you logged in?\n/// was there no capability specified?\n// <Auth capability=\"foo\"> <div /> </Auth>\n/// are you logged in?\n/// Is there a capability that we care about?\n/// do you have it?","map":{"version":3,"sources":["/home/boshra/401labs/hooks/todo/src/components/todo/acl.js"],"names":["React","LoginContext","If","Auth","props","loginContext","useContext","okToRender","loggedIn","capability","user","capabilities","includes","error","console","log","message","children"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AACA,SAASC,EAAT,QAAmB,UAAnB;;AAGA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACvB,QAAMC,YAAY,GAAGC,UAAU,CAACL,YAAD,CAA/B;AACA,MAAIM,UAAU,GAAG,KAAjB;;AACA,MAAI;AACHA,IAAAA,UAAU,GACTF,YAAY,CAACG,QAAb,IAAyBJ,KAAK,CAACK,UAA/B,GACGJ,YAAY,CAACK,IAAb,CAAkBA,IAAlB,CAAuBC,YAAvB,CAAoCC,QAApC,CAA6CR,KAAK,CAACK,UAAnD,CADH,GAEG,KAHJ;AAIA,GALD,CAKE,OAAOI,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,KAAK,CAACG,OAApC;AACA;;AACD,sBAAO,oBAAC,EAAD;AAAI,IAAA,SAAS,EAAET,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BH,KAAK,CAACa,QAAlC,CAAP;AACA,CAZD;;AAcA,eAAed,IAAf,C,CAIA;AACA;AACA;AAGI;AACA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["import React from 'react';\nimport { LoginContext } from '../../context/auth';\nimport { If } from 'react-if';\n\n\nconst Auth = (props) => {\n\tconst loginContext = useContext(LoginContext);\n\tlet okToRender = false;\n\ttry {\n\t\tokToRender =\n\t\t\tloginContext.loggedIn && props.capability\n\t\t\t\t? loginContext.user.user.capabilities.includes(props.capability)\n\t\t\t\t: false;\n\t} catch (error) {\n\t\tconsole.log('NOT AUTHORIZED', error.message);\n\t}\n\treturn <If condition={okToRender}>{props.children}</If>;\n};\n\nexport default Auth;\n\n\n\n// const If = props => {\n//   return props.condition ? props.children : null;\n// };\n\n\n    // <Auth> <div /> </Auth>\n    /// are you logged in?\n    /// was there no capability specified?\n\n    // <Auth capability=\"foo\"> <div /> </Auth>\n    /// are you logged in?\n    /// Is there a capability that we care about?\n    /// do you have it?\n\n \n"]},"metadata":{},"sourceType":"module"}